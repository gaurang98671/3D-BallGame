[gd_scene load_steps=13 format=2]

[ext_resource path="res://actors/Player.tscn" type="PackedScene" id=1]
[ext_resource path="res://actors/Player.gd" type="Script" id=2]
[ext_resource path="res://levels/RigidBody.gd" type="Script" id=3]
[ext_resource path="res://actors/floor.meshlib" type="MeshLibrary" id=4]

[sub_resource type="BoxShape" id=1]
extents = Vector3( 8.37603, 0.459528, 6.8982 )

[sub_resource type="SpatialMaterial" id=2]
albedo_color = Color( 0.854902, 0.423529, 0.929412, 1 )
emission_enabled = true
emission = Color( 0.32549, 0.027451, 0.027451, 1 )
emission_energy = 1.86
emission_operator = 0
emission_on_uv2 = false

[sub_resource type="CubeMesh" id=3]
material = SubResource( 2 )
size = Vector3( 16.39, 0.298, 13.875 )

[sub_resource type="BoxShape" id=4]

[sub_resource type="BoxShape" id=5]

[sub_resource type="CubeMesh" id=6]

[sub_resource type="BoxShape" id=7]
extents = Vector3( 1.84544, 0.913003, 2.7454 )

[sub_resource type="BoxShape" id=8]
extents = Vector3( 47.6872, 1, 1 )

[node name="Level" type="Spatial"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.0124269, 0 )

[node name="Floor" type="StaticBody" parent="."]

[node name="CollisionShape" type="CollisionShape" parent="Floor"]
transform = Transform( 0.937, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
shape = SubResource( 1 )

[node name="MeshInstance" type="MeshInstance" parent="Floor/CollisionShape"]
mesh = SubResource( 3 )
material/0 = null

[node name="Floor2" type="StaticBody" parent="."]
transform = Transform( 0.97379, -0.22745, 0, 0.22745, 0.97379, 0, 0, 0, 1, -15.5054, -1.79886, 0.695604 )

[node name="CollisionShape" type="CollisionShape" parent="Floor2"]
transform = Transform( 0.937, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
shape = SubResource( 1 )

[node name="MeshInstance" type="MeshInstance" parent="Floor2/CollisionShape"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.388248, -0.0849705, -0.747162 )
mesh = SubResource( 3 )
material/0 = null

[node name="Player" parent="." instance=ExtResource( 1 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 2.33095, 1.17706, 1.91123 )
script = ExtResource( 2 )

[node name="Spatial" type="Spatial" parent="Player"]
transform = Transform( 1, 0, 0, 0, 0.82102, 0.5709, 0, -0.5709, 0.82102, -2.22131, 6.25473, 7.88137 )

[node name="InterpolatedCamera" type="InterpolatedCamera" parent="."]
transform = Transform( 1, 0, 0, 0, 0.838633, 0.544698, 0, -0.544698, 0.838633, 0, 8.77757, 12.5138 )
target = NodePath("../Player/Spatial")
enabled = true

[node name="DirectionalLight" type="DirectionalLight" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -2.11721, 10.8021, 0.00109196 )
light_color = Color( 0.831373, 0.815686, 0.580392, 1 )
light_energy = 1.56
shadow_enabled = true

[node name="Area" type="Area" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.67171, 2.05588 )

[node name="CollisionShape" type="CollisionShape" parent="Area"]
shape = SubResource( 4 )

[node name="RigidBody" type="RigidBody" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 5.80783, 0 )
script = ExtResource( 3 )

[node name="CollisionShape" type="CollisionShape" parent="RigidBody"]
shape = SubResource( 5 )

[node name="MeshInstance" type="MeshInstance" parent="RigidBody/CollisionShape"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.0296674 )
mesh = SubResource( 6 )
material/0 = null

[node name="PickArea" type="Area" parent="RigidBody"]
transform = Transform( 0.891311, 0, 0, 0, 5.2037, 0, 0, 0, 0.891311, 0, 0, 0 )

[node name="CollisionShape" type="CollisionShape" parent="RigidBody/PickArea"]
shape = SubResource( 7 )

[node name="Label" type="Label" parent="RigidBody"]
margin_left = 390.0
margin_top = 555.0
margin_right = 646.0
margin_bottom = 597.0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="GridMap" type="GridMap" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -2.57466, -4.82134, -0.43664 )
mesh_library = ExtResource( 4 )
data = {
"cells": PoolIntArray( 0, 0, 0, 1, 0, 0, 2, 0, 0, 3, 0, 0, 4, 0, 1073741824, 5, 0, 0, 6, 0, 0, 10, 0, 0, 65508, 0, 0, 65509, 0, 0, 65510, 0, 0, 65511, 0, 0, 65512, 0, 0, 65513, 0, 0, 65514, 0, 0, 65515, 0, 0, 65516, 0, 0, 65517, 0, 0, 65518, 0, 0, 65519, 0, 0, 65520, 0, 0, 65521, 0, 0, 65522, 0, 0, 65523, 0, 0, 65524, 0, 0, 65529, 0, 0, 65530, 0, 0, 65531, 0, 0, 65532, 0, 0, 65533, 0, 0, 65534, 0, 0, 65535, 0, 0, 0, 1, 0, 1, 1, 1073741824, 2, 1, 0, 4, 1, 0, 5, 1, 0, 6, 1, 0, 11, 1, 0, 65510, 1, 0, 65511, 1, 0, 65512, 1, 0, 65513, 1, 0, 65514, 1, 0, 65515, 1, 0, 65516, 1, 0, 65517, 1, 0, 65518, 1, 0, 65519, 1, 0, 65520, 1, 0, 65521, 1, 0, 65522, 1, 0, 65523, 1, 0, 65524, 1, 0, 65535, 1, 0, 4, 2, 0, 5, 2, 0, 6, 2, 0, 12, 2, 0, 65513, 2, 0, 65514, 2, 0, 65515, 2, 0, 65516, 2, 0, 65517, 2, 0, 65518, 2, 0, 65519, 2, 0, 65520, 2, 0, 65521, 2, 0, 65522, 2, 0, 65523, 2, 0, 65524, 2, 0, 4, 3, 0, 5, 3, 0, 6, 3, 0, 7, 3, 0, 65514, 3, 0, 65515, 3, 0, 65516, 3, 0, 65517, 3, 0, 65518, 3, 1073741824, 65519, 3, 536870912, 65520, 3, 0, 65521, 3, 1073741824, 65522, 3, 0, 65523, 3, 0, 65524, 3, 0, 4, 4, 0, 5, 4, 536870912, 6, 4, 1073741824, 7, 4, 0, 65515, 4, 536870912, 65516, 4, 536870912, 65517, 4, 0, 65518, 4, 0, 65519, 4, 536870912, 65520, 4, 536870912, 3, 5, 0, 4, 5, 0, 5, 5, 0, 6, 5, 0, 7, 5, 0, 65516, 5, 0, 65517, 5, 1073741824, 65518, 5, 536870912, 65519, 5, 536870912, 65520, 5, 0, 3, 6, 0, 4, 6, 0, 5, 6, 536870912, 6, 6, 0, 7, 6, 0, 65519, 6, 0, 65520, 6, 536870912, 65521, 6, 0, 65522, 6, 0, 65523, 6, 536870912, 3, 7, 0, 4, 7, 0, 5, 7, 0, 6, 7, 0, 3, 8, 0, 4, 8, 0, 6, 8, 0, -655384, 8, 536870912, -655383, 8, 1073741824, -655382, 8, 0, -655381, 8, 536870912, -655380, 8, 0, 3, 9, 0, 4, 9, 0, 5, 9, 536870912, 6, 9, 0, -655384, 9, 0, -655383, 9, 0, -655382, 9, 0, -655381, 9, 0, -655380, 9, 0, 3, 10, 0, 5, 10, 0, 6, 10, 0, -655384, 10, 0, -655383, 10, 0, -655382, 10, 0, -655381, 10, 0, -655380, 10, 0, 3, 11, 1073741824, -655384, 11, 0, -655383, 11, 0, -655382, 11, 1073741824, -655381, 11, 0, -655380, 11, 536870912, -655384, 12, 0, -655383, 12, 536870912, -655382, 12, 0, -655381, 12, 0, -655380, 12, 0, -655384, 13, 0, -655383, 13, 0, -655382, 13, 0, -655381, 13, 0, -655380, 13, 0, -655384, 14, 0, -655383, 14, 0, -655382, 14, 0, -655381, 14, 0, -655380, 14, 0, -655384, 15, 0, -655383, 15, 0, -655382, 15, 0, -655381, 15, 0, -655380, 15, 0, -655384, 16, 1073741824, -655383, 16, 0, -655382, 16, 0, -655381, 16, 0, -655380, 16, 0, -655384, 17, 0, -655383, 17, 0, -655382, 17, 0, -655381, 17, 1073741824, -655380, 17, 0, -655385, 18, 0, -655384, 18, 0, -655383, 18, 1073741824, -655382, 18, 0, -655381, 18, 1073741824, -655380, 18, 0, -655385, 19, 0, -655384, 19, 0, -655383, 19, 0, -655382, 19, 0, -655381, 19, 0, -655380, 19, 0, -655384, 20, 536870912, -655383, 20, 0, -655382, 20, 0, -655381, 20, 0, -655380, 20, 0, -1245188, 30, 536870912, -1245188, 31, 0, -1245187, 32, 1073741824, -1245188, 33, 536870912, -1245188, 34, 1073741824, -1245187, 34, 1073741824, -1245188, 35, 1073741824, -1245188, 36, 0, -1245188, 37, 0, -1245188, 38, 536870912, -1245188, 39, 536870912, -1245188, 40, 0, -1245189, 41, 536870912, -1245188, 41, 536870912, -1245189, 42, 0, 917488, 65520, 0, 917488, 65521, 1073741824, 0, 65523, 0, 65527, 65523, 0, 65528, 65523, 0, 65529, 65523, 1073741824, 65530, 65523, 1073741824, 65532, 65523, 0, 65533, 65523, 0, 65534, 65523, 1073741824, 65535, 65523, 0, 0, 65524, 1073741824, 1, 65524, 1073741824, 2, 65524, 0, 65529, 65524, 0, 65531, 65524, 536870912, 65532, 65524, 1073741824, 65533, 65524, 1073741824, 65534, 65524, 536870912, 65535, 65524, 1073741824, 0, 65525, 1073741824, 1, 65525, 0, 2, 65525, 1073741824, 3, 65525, 0, 4, 65525, 0, 65528, 65525, 1073741824, 65529, 65525, 0, 65530, 65525, 0, 65531, 65525, 0, 65532, 65525, 1073741824, 65533, 65525, 0, 65534, 65525, 0, 65535, 65525, 0, 0, 65526, 1073741824, 1, 65526, 1073741824, 2, 65526, 0, 3, 65526, 536870912, 4, 65526, 0, 5, 65526, 536870912, 6, 65526, 1073741824, 7, 65526, 0, 65529, 65526, 0, 65530, 65526, 0, 65531, 65526, 0, 65532, 65526, 0, 65533, 65526, 0, 65534, 65526, 0, 65535, 65526, 0, 0, 65527, 0, 1, 65527, 0, 2, 65527, 1073741824, 3, 65527, 536870912, 4, 65527, 0, 5, 65527, 0, 6, 65527, 1073741824, 7, 65527, 0, 65527, 65527, 1073741824, 65528, 65527, 0, 65529, 65527, 0, 65530, 65527, 1073741824, 65531, 65527, 0, 65532, 65527, 0, 65533, 65527, 1073741824, 65534, 65527, 0, 65535, 65527, 0, 0, 65528, 0, 1, 65528, 536870912, 2, 65528, 1073741824, 3, 65528, 536870912, 4, 65528, 1073741824, 5, 65528, 536870912, 6, 65528, 0, 7, 65528, 1073741824, 65517, 65528, 0, 65525, 65528, 0, 65526, 65528, 0, 65527, 65528, 1073741824, 65528, 65528, 536870912, 65529, 65528, 536870912, 65530, 65528, 536870912, 65531, 65528, 536870912, 65532, 65528, 1073741824, 65533, 65528, 1073741824, 65534, 65528, 536870912, 65535, 65528, 0, 0, 65529, 0, 1, 65529, 1073741824, 2, 65529, 0, 3, 65529, 0, 4, 65529, 0, 5, 65529, 0, 6, 65529, 536870912, 7, 65529, 536870912, 8, 65529, 536870912, 9, 65529, 0, 65517, 65529, 0, 65518, 65529, 1073741824, 65520, 65529, 0, 65522, 65529, 0, 65523, 65529, 536870912, 65524, 65529, 0, 65525, 65529, 536870912, 65526, 65529, 536870912, 65527, 65529, 1073741824, 65528, 65529, 1073741824, 65529, 65529, 0, 65530, 65529, 0, 65531, 65529, 0, 65532, 65529, 0, 65533, 65529, 1073741824, 65534, 65529, 0, 65535, 65529, 0, 0, 65530, 0, 1, 65530, 0, 2, 65530, 0, 3, 65530, 0, 4, 65530, 0, 5, 65530, 0, 6, 65530, 0, 7, 65530, 0, 8, 65530, 0, 9, 65530, 0, 65516, 65530, 0, 65518, 65530, 0, 65519, 65530, 0, 65520, 65530, 0, 65521, 65530, 0, 65522, 65530, 0, 65523, 65530, 0, 65524, 65530, 0, 65525, 65530, 0, 65526, 65530, 0, 65528, 65530, 0, 65529, 65530, 0, 65530, 65530, 0, 65531, 65530, 0, 65532, 65530, 0, 65533, 65530, 0, 65534, 65530, 0, 65535, 65530, 0, 0, 65531, 0, 1, 65531, 0, 2, 65531, 0, 3, 65531, 0, 4, 65531, 0, 5, 65531, 0, 6, 65531, 0, 7, 65531, 0, 8, 65531, 0, 9, 65531, 0, 10, 65531, 0, 65516, 65531, 0, 65517, 65531, 0, 65518, 65531, 0, 65519, 65531, 0, 65520, 65531, 0, 65521, 65531, 0, 65522, 65531, 0, 65523, 65531, 0, 65524, 65531, 0, 65525, 65531, 0, 65526, 65531, 0, 65527, 65531, 0, 65529, 65531, 0, 65530, 65531, 0, 65531, 65531, 0, 65532, 65531, 0, 65533, 65531, 0, 65534, 65531, 0, 65535, 65531, 0, 0, 65532, 0, 1, 65532, 0, 2, 65532, 0, 3, 65532, 0, 4, 65532, 0, 5, 65532, 0, 6, 65532, 0, 7, 65532, 0, 8, 65532, 0, 9, 65532, 0, 10, 65532, 0, 65509, 65532, 0, 65510, 65532, 0, 65515, 65532, 0, 65516, 65532, 0, 65517, 65532, 0, 65518, 65532, 0, 65519, 65532, 0, 65520, 65532, 0, 65521, 65532, 0, 65522, 65532, 0, 65523, 65532, 0, 65524, 65532, 0, 65525, 65532, 0, 65526, 65532, 0, 65529, 65532, 0, 65530, 65532, 0, 65531, 65532, 0, 65532, 65532, 0, 65533, 65532, 0, 65534, 65532, 0, 65535, 65532, 0, 0, 65533, 0, 1, 65533, 0, 2, 65533, 0, 3, 65533, 0, 4, 65533, 0, 5, 65533, 0, 6, 65533, 0, 7, 65533, 0, 8, 65533, 0, 9, 65533, 0, 10, 65533, 0, 11, 65533, 0, 65508, 65533, 0, 65509, 65533, 0, 65510, 65533, 0, 65511, 65533, 0, 65512, 65533, 0, 65513, 65533, 0, 65514, 65533, 0, 65515, 65533, 0, 65516, 65533, 0, 65517, 65533, 0, 65518, 65533, 0, 65519, 65533, 0, 65520, 65533, 0, 65521, 65533, 0, 65522, 65533, 0, 65523, 65533, 0, 65524, 65533, 0, 65525, 65533, 0, 65528, 65533, 0, 65529, 65533, 0, 65530, 65533, 0, 65531, 65533, 0, 65532, 65533, 0, 65533, 65533, 0, 65534, 65533, 0, 65535, 65533, 0, 0, 65534, 0, 1, 65534, 0, 2, 65534, 0, 3, 65534, 0, 4, 65534, 0, 5, 65534, 0, 6, 65534, 0, 7, 65534, 0, 8, 65534, 0, 9, 65534, 0, 10, 65534, 0, 11, 65534, 0, 65510, 65534, 0, 65511, 65534, 0, 65512, 65534, 0, 65513, 65534, 0, 65514, 65534, 0, 65515, 65534, 0, 65516, 65534, 0, 65517, 65534, 0, 65518, 65534, 0, 65519, 65534, 0, 65520, 65534, 0, 65521, 65534, 0, 65522, 65534, 0, 65523, 65534, 0, 65524, 65534, 0, 65525, 65534, 0, 65527, 65534, 0, 65528, 65534, 0, 65529, 65534, 0, 65530, 65534, 0, 65531, 65534, 0, 65532, 65534, 0, 65533, 65534, 0, 65534, 65534, 0, 65535, 65534, 0, 0, 65535, 0, 1, 65535, 0, 2, 65535, 0, 3, 65535, 0, 4, 65535, 0, 5, 65535, 0, 6, 65535, 0, 7, 65535, 0, 8, 65535, 0, 9, 65535, 0, 65508, 65535, 0, 65509, 65535, 0, 65510, 65535, 0, 65511, 65535, 0, 65513, 65535, 0, 65514, 65535, 0, 65516, 65535, 0, 65517, 65535, 0, 65518, 65535, 0, 65519, 65535, 0, 65520, 65535, 0, 65521, 65535, 0, 65522, 65535, 0, 65523, 65535, 0, 65524, 65535, 0, 65528, 65535, 0, 65529, 65535, 0, 65530, 65535, 0, 65531, 65535, 0, 65532, 65535, 0, 65533, 65535, 0, 65534, 65535, 0, 65535, 65535, 0 )
}
__meta__ = {
"_editor_clip_": 0,
"_editor_floor_": Vector3( 0, 0, 0 )
}

[node name="Fall" type="Area" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 10.3639, -2.06187, -6.98997, -2.1431 )

[node name="CollisionShape" type="CollisionShape" parent="Fall"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -9.85766, 0.448074, 0 )
shape = SubResource( 8 )
[connection signal="body_entered" from="Area" to="Player" method="_on_Area_body_entered"]
[connection signal="body_exited" from="Area" to="Player" method="_on_Area_body_exited"]
[connection signal="body_entered" from="RigidBody/PickArea" to="RigidBody" method="_on_PickArea_body_entered"]
[connection signal="body_exited" from="RigidBody/PickArea" to="RigidBody" method="_on_PickArea_body_exited"]
[connection signal="body_entered" from="Fall" to="Player" method="_on_Fall_body_entered"]
